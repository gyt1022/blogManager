package com.guo.config;import org.apache.shiro.mgt.SecurityManager;import org.apache.shiro.spring.web.ShiroFilterFactoryBean;import org.apache.shiro.web.mgt.DefaultWebSecurityManager;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import java.util.LinkedHashMap;import java.util.Map;/** * @author guoyutao * @date 2019/03/06 */@Configurationpublic class ShiroConfig {    @Bean    public ShiroFilterFactoryBean shiroFilter(SecurityManager securityManager){        System.out.println("进入shiro 控制器");        ShiroFilterFactoryBean shiroFilterFactoryBean=new ShiroFilterFactoryBean();        shiroFilterFactoryBean.setSecurityManager(securityManager);        Map<String,String> filterChainDefinitionMap =new LinkedHashMap<>();        filterChainDefinitionMap.put("/images/**","anon");        filterChainDefinitionMap.put("/css/**","anon");        filterChainDefinitionMap.put("/system/login","anon");        filterChainDefinitionMap.put("/logout","logout");        filterChainDefinitionMap.put("/**","authc");        shiroFilterFactoryBean.setLoginUrl("/tologin");        shiroFilterFactoryBean.setSuccessUrl("/index");        shiroFilterFactoryBean.setUnauthorizedUrl("/403");        shiroFilterFactoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap);        return shiroFilterFactoryBean;    }    @Bean    public MyShiroRealm myShiroRealm(){        MyShiroRealm myShiroRealm = new MyShiroRealm();        return myShiroRealm;    }    @Bean    public SecurityManager securityManager(){        DefaultWebSecurityManager securityManager=new DefaultWebSecurityManager();        securityManager.setRealm(myShiroRealm());        return securityManager;    }}